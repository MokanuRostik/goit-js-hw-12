{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst BASE_URL = `https://pixabay.com/api/`;\nconst API_KEY = `39475716-e1b9a363d760376814942c80f`;\n\nconst form = document.getElementById('search-form');\nconst listGallery = document.querySelector('.gallery');\n\n// Ініціалізуємо SimpleLightbox\nconst lightbox = new SimpleLightbox('.gallery a.lightbox-trigger');\n\n// Оновлюємо SimpleLightbox після додавання нових елементів\nlightbox.refresh();\n\n// Встановлюємо обробник події на клік для відкриття галереї\nlistGallery.addEventListener('click', e => {\n  if (e.target.classList.contains('lightbox-trigger')) {\n    e.preventDefault();\n    lightbox.open();\n  }\n});\n\nform.addEventListener('submit', onSubmitForm);\n\nfunction onSubmitForm(e) {\n  e.preventDefault();\n  const loadingIndicator = document.querySelector('.loading-indicator');\n  loadingIndicator.style.display = 'block';\n  const inputRef = document.querySelector('form input').value;\n\n  // Додавання обов'язкових параметрів до URL-адреси запиту fetch\n  const mandatoryParams =\n    '&image_type=photo&orientation=horizontal&safesearch=true';\n  fetch(`${BASE_URL}?key=${API_KEY}&q=${inputRef}${mandatoryParams}`)\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return resp.json();\n    })\n    .then(data => {\n      // Обробка успішного відгуку\n      markupElements(data);\n      loadingIndicator.style.display = 'none';\n    })\n    .catch(error => {\n      // Обробка помилок мережі або API\n      console.error('Fetch error:', error);\n      loadingIndicator.style.display = 'none';\n      // Додавання логіки для відображення помилки користувачу або іншої обробки помилок\n    });\n}\n\nfunction markupElements(data) {\n  const markup = data.hits\n    .map(\n      hit => `<div class=\"photo-card\">\n                <a href=\"${hit.largeImageURL}\" class=\"lightbox-trigger\">\n                  <img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" loading=\"lazy\" />\n                </a>\n                <div class=\"info\">\n                  <p class=\"info-item\"><b>Likes: ${hit.likes}</b></p>\n                  <p class=\"info-item\"><b>Views: ${hit.views}</b></p>\n                  <p class=\"info-item\"><b>Comments: ${hit.comments}</b></p>\n                  <p class=\"info-item\"><b>Downloads: ${hit.downloads}</b></p>\n                </div>\n              </div>`\n    )\n    .join('');\n\n  listGallery.innerHTML = markup;\n\n  // Оновлюємо SimpleLightbox після додавання нових елементів\n  lightbox.refresh();\n}\n"],"names":["BASE_URL","API_KEY","form","listGallery","lightbox","SimpleLightbox","e","onSubmitForm","loadingIndicator","inputRef","resp","data","markupElements","error","markup","hit"],"mappings":"svBAGA,MAAMA,EAAW,2BACXC,EAAU,qCAEVC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAc,SAAS,cAAc,UAAU,EAG/CC,EAAW,IAAIC,EAAe,6BAA6B,EAGjED,EAAS,QAAO,EAGhBD,EAAY,iBAAiB,QAASG,GAAK,CACrCA,EAAE,OAAO,UAAU,SAAS,kBAAkB,IAChDA,EAAE,eAAc,EAChBF,EAAS,KAAI,EAEjB,CAAC,EAEDF,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAaD,EAAG,CACvBA,EAAE,eAAc,EAChB,MAAME,EAAmB,SAAS,cAAc,oBAAoB,EACpEA,EAAiB,MAAM,QAAU,QACjC,MAAMC,EAAW,SAAS,cAAc,YAAY,EAAE,MAKtD,MAAM,GAAGT,SAAgBC,OAAaQ,2DAA4B,EAC/D,KAAKC,GAAQ,CACZ,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAK,MAClB,CAAK,EACA,KAAKC,GAAQ,CAEZC,EAAeD,CAAI,EACnBH,EAAiB,MAAM,QAAU,MACvC,CAAK,EACA,MAAMK,GAAS,CAEd,QAAQ,MAAM,eAAgBA,CAAK,EACnCL,EAAiB,MAAM,QAAU,MAEvC,CAAK,CACL,CAEA,SAASI,EAAeD,EAAM,CAC5B,MAAMG,EAASH,EAAK,KACjB,IACCI,GAAO;AAAA,2BACcA,EAAI;AAAA,8BACDA,EAAI,sBAAsBA,EAAI;AAAA;AAAA;AAAA,mDAGTA,EAAI;AAAA,mDACJA,EAAI;AAAA,sDACDA,EAAI;AAAA,uDACHA,EAAI;AAAA;AAAA,qBAGtD,EACA,KAAK,EAAE,EAEVZ,EAAY,UAAYW,EAGxBV,EAAS,QAAO,CAClB"}