{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst BASE_URL = `https://pixabay.com/api/`;\nconst API_KEY = `39475716-e1b9a363d760376814942c80f`;\n\nconst form = document.getElementById('search-form');\nconst listGallery = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a.lightbox-trigger');\n\nlistGallery.addEventListener('click', e => {\n  if (e.target.classList.contains('lightbox-trigger')) {\n    e.preventDefault();\n    lightbox.open();\n  }\n});\n\nform.addEventListener('submit', onSubmitForm);\n\nfunction onSubmitForm(e) {\n  e.preventDefault();\n\n  const inputElement = document.querySelector('form input');\n  const inputRef = encodeURIComponent(inputElement.value.trim());\n\n  if (!inputRef) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a valid search term.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  const loadingIndicator = document.querySelector('.loading-indicator');\n  loadingIndicator.style.display = 'block';\n\n  const mandatoryParams =\n    '&image_type=photo&orientation=horizontal&safesearch=true';\n  fetch(`${BASE_URL}?key=${API_KEY}&q=${inputRef}${mandatoryParams}`)\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return resp.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.warning({\n          title: 'No Results',\n          message: 'No images found for the given search.',\n          position: 'topRight',\n        });\n      } else {\n        markupElements(data);\n      }\n      loadingIndicator.style.display = 'none';\n    })\n    .catch(error => {\n      console.error('Fetch error:', error);\n      loadingIndicator.style.display = 'none';\n      iziToast.error({\n        title: 'Error',\n        message: 'An error occurred while fetching data.',\n        position: 'topRight',\n      });\n    });\n}\n\nfunction markupElements(data) {\n  const markup = data.hits\n    .map(\n      hit => `<div class=\"photo-card\">\n                <a href=\"${hit.largeImageURL}\" class=\"lightbox-trigger\">\n                  <img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" loading=\"lazy\" />\n                </a>\n                <div class=\"info\">\n                  <p class=\"info-item\"><b>Likes: ${hit.likes}</b></p>\n                  <p class=\"info-item\"><b>Views: ${hit.views}</b></p>\n                  <p class=\"info-item\"><b>Comments: ${hit.comments}</b></p>\n                  <p class=\"info-item\"><b>Downloads: ${hit.downloads}</b></p>\n                </div>\n              </div>`\n    )\n    .join('');\n\n  listGallery.innerHTML = markup;\n\n  lightbox.refresh();\n}\n"],"names":["BASE_URL","API_KEY","form","listGallery","lightbox","SimpleLightbox","e","onSubmitForm","inputElement","inputRef","iziToast","loadingIndicator","resp","data","markupElements","error","markup","hit"],"mappings":"6vBAKA,MAAMA,EAAW,2BACXC,EAAU,qCAEVC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAW,IAAIC,EAAe,6BAA6B,EAEjEF,EAAY,iBAAiB,QAASG,GAAK,CACrCA,EAAE,OAAO,UAAU,SAAS,kBAAkB,IAChDA,EAAE,eAAc,EAChBF,EAAS,KAAI,EAEjB,CAAC,EAEDF,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAaD,EAAG,CACvBA,EAAE,eAAc,EAEhB,MAAME,EAAe,SAAS,cAAc,YAAY,EAClDC,EAAW,mBAAmBD,EAAa,MAAM,KAAM,CAAA,EAE7D,GAAI,CAACC,EAAU,CACbC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACT,SAAU,UAChB,CAAK,EACD,MACD,CAED,MAAMC,EAAmB,SAAS,cAAc,oBAAoB,EACpEA,EAAiB,MAAM,QAAU,QAIjC,MAAM,GAAGX,SAAgBC,OAAaQ,2DAA4B,EAC/D,KAAKG,GAAQ,CACZ,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAK,MAClB,CAAK,EACA,KAAKC,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBH,EAAS,QAAQ,CACf,MAAO,aACP,QAAS,wCACT,SAAU,UACpB,CAAS,EAEDI,EAAeD,CAAI,EAErBF,EAAiB,MAAM,QAAU,MACvC,CAAK,EACA,MAAMI,GAAS,CACd,QAAQ,MAAM,eAAgBA,CAAK,EACnCJ,EAAiB,MAAM,QAAU,OACjCD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yCACT,SAAU,UAClB,CAAO,CACP,CAAK,CACL,CAEA,SAASI,EAAeD,EAAM,CAC5B,MAAMG,EAASH,EAAK,KACjB,IACCI,GAAO;AAAA,2BACcA,EAAI;AAAA,8BACDA,EAAI,sBAAsBA,EAAI;AAAA;AAAA;AAAA,mDAGTA,EAAI;AAAA,mDACJA,EAAI;AAAA,sDACDA,EAAI;AAAA,uDACHA,EAAI;AAAA;AAAA,qBAGtD,EACA,KAAK,EAAE,EAEVd,EAAY,UAAYa,EAExBZ,EAAS,QAAO,CAClB"}